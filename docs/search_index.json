[["index.html", "Estadística para todxs Preámbulo", " Estadística para todxs Facultad de Psicología, Universidad de Talca 2022-10-04 Preámbulo Este curso se basa en Statistics without tears de Derek Rowntree y Discovering statistics using R de Andy Field, Jeremy Miles y Zoë Field. Este curso también utiliza material del libro &quot;Discovering statistics using R&quot;. Este material es accesible aquí. Este curso asume que no sabes nada de estadística. Sin embargo, si asume que sabes aritmética básica y fracciones. La base de datos que vamos a utilizar se encuentra aquí. ¡Que disfrutes el curso! "],["introducción-a-la-estadística.html", "Capítulo 1 Introducción a la estadística 1.1 ¿Qué es la estadística? 1.2 ¿Variables? 1.3 Diseños experimentales 1.4 ¿Qué medimos? 1.5 Un prueba estadística 1.6 ¿Que diseño usaré? 1.7 Una historia fantástica 1.8 ¿Randomizar?", " Capítulo 1 Introducción a la estadística En este capítulo introductorio vamos a ir paso a paso. Vamos a hacernos de una visión general de la estadística y vamos a entender por qué tenemos que hacer &quot;inferencias&quot;, es decir, sacar conclusiones de algunos datos que recolectamos para saber algo del mundo alredor nuestro (de una población en particular). 1.1 ¿Qué es la estadística? Revisa este video y trata de responder: ¿Qué es la estadística descriptiva y la estadística inferencial? ¿Qué es una población y una muestra? ¿Qué son los &quot;parámetros&quot;&quot; y los &quot;estadísticos&quot;? ¿Por qué necesitamos obtener una muestra para nuestros experimentos? ¿Por qué necesitamos las probabilidades para realizar análisis estadísticos? 1.2 ¿Variables? Revisa este video y trata de responder: ¿Qué tipos de variables existen? ¿Que significa definir variables y operacionalizar? ¿Que es una variable independiente? ¿Que es una variable dependiente? ¿Cómo se construye una hipótesis? 1.3 Diseños experimentales Revisa este video y trata de responder: ¿Qué tipos de diseño experimental existen? ¿Cuáles son las ventajas y desventajas de cada uno de ellos? 1.4 ¿Qué medimos? Revisa este video y trata de responder: ¿Qué aspectos son importantes a la hora de diseñar un experimento? ¿Qué es la validez de una medición? ¿Qué es la replicabilidad de una medición? ¿Qué es un factor confundente? 1.5 Un prueba estadística Revisa este video y trata de responder: ¿Por qué es tan importante evaluar como cambian (o varían) las variables? ¿Qué hace un prueba estadística (en términos de los cambios que experimenta una variable)? ¿Qué es la variación sistemática (VS)? ¿Qué es la variación no sistemática (VNS)? Sí una manipulación experimental produce un efecto genuino como será la razón VS/VNS? 1.6 ¿Que diseño usaré? Revisa este video y trata de responder: ¿Cuál es la diferencia entre un diseño intra-sujetos y un diseño entre-sujetos? ¿Cuál es la relación entre un diseño experimental y su análisis estadístico asociado? 1.7 Una historia fantástica Revisa este video y trata de responder: ¿Quién fué Roland Fisher? ¿Dé dónde viene el 5% (o p = 0.05) que usamos en estadística? 1.8 ¿Randomizar? Revisa este video y trata de responder: ¿Para que se usa la randomización? ¿Qué son los efectos de práctica y de aburrimiento en un diseño intra-sujetos? ¿Cómo podemos confeccionar un buen diseño entre-sujetos? "],["conceptos-estadísticos.html", "Capítulo 2 Conceptos estadísticos 2.1 La significancia 2.2 Colas 2.3 Errores estadísticos 2.4 Tamaño &amp; poder 2.5 Experimentar", " Capítulo 2 Conceptos estadísticos 2.1 La significancia Revisa este video y trata de responder: ¿Qué me dice y qué no me dice el valor de p? ¿Cómo se interpreta un resultado estadístico nulo? 2.2 Colas Revisa este video y trata de responder: ¿Cuál es la diferencia entre una hipótesis de una cola y una hipótesis de dos colas? ¿Por qué los criterios de significancia son más altos para una hipótesis de una cola que para una hipótesis de dos colas? 2.3 Errores estadísticos Revisa este video y trata de responder: ¿Qué es un error de tipo I? ¿Qué es un error de tipo II? ¿Por qué hay un balance entre el error de tipo I y II? ¿Qué es mas perjudicial para un estudio? ¿Un error de tipo I o II? 2.4 Tamaño &amp; poder Revisa este video y trata de responder: ¿Qué es el tamaño del efecto? ¿Cómo se contabiliza el tamaño del efecto? ¿Qué es el poder estadístico? ¿Cómo definimos el tamaño de la muestra que necesitamos para un experimento? 2.5 Experimentar Revisa este video y trata de responder: ¿Cómo planificar mejor mi estudio? ¿Por qué debo planificar mi análisis ANTES de recolectar los datos? "],["programación.html", "Capítulo 3 Programación 3.1 ¿Que significa programar? 3.2 La shell (consola) versus el script 3.3 Video introductorio a la programación 3.4 Empezando a programar 3.5 Trabajando con data frames 3.6 Importando datos 3.7 Seleccionando datos 3.8 Transformado datos en formato long a wide y viceversa 3.9 Exportando datos", " Capítulo 3 Programación En este capítulo te voy a mostrar las primeras ideas para que puedas programar en R. 3.1 ¿Que significa programar? Revisa este video y trata de responder: ¿Qué habilidades permite desarrollar el conocimiento de programación? ¿Qué es un algoritmo? ¿Qué es un lenguaje de programación? 3.2 La shell (consola) versus el script Revisa este video y trata de responder: ¿Cuál es la diferencia entre un compilador y un intérprete? ¿Cuál es la diferencia entre usar la shell (consola) y usar un script? ¿Qué es el CRAN? 3.3 Video introductorio a la programación Revisa este video para comenzar a trabajar en RStudio. Mas abajo repetiré el mismo contenido para que vayas viendo como usar el material que viene mas abajo. 3.4 Empezando a programar En lo que sigue te recomiendo que crees un script (lo nombres &quot;Curso_1&quot; o algo así) y que vayas escribiendo o copiando lo que vamos viendo más abajo. En general, luego de una línea de código aparece el resultado precedido por ##. En un script es esencial incluir comentarios. De esta manera puedes acordarte (y otros puedes entender) que está haciendo tu código. Para escribir un comentario debes anteponer un #. En el inicio de un script es un buen hábito poner una fecha y tus iniciales. Por ejemplo: # JLUF 16/08/2022 También es buena idea que agregues una breve descripción de lo que hace tu código. # JLUF 16/08/2022 # Estadística descriptiva R tiene algunas funciones integradas. Por ejemplo: el promedio (mean) y la desviación estándar (sd). Para probar estas funciones podemos aplicarlas a una series de números (o vector). Para crear un vector podemos usar la c y un paréntesis. Lo que hacemos con la c es concatenar números. # JLUF 16/08/2022 # Estadística descriptiva # Promedio entre 2 y 3 mean(c(2,3)) ## [1] 2.5 # Deviación estándar entre 2 y 3 sd(c(2,3)) ## [1] 0.7071068 Comúnmente para hacer un cálculo de manera óptima usamos algo que se llama asignación. Es decir, creamos una variable y le asignamos un valor. Por ejemplo, definimos que a equivale a 2 y b equivale a 3. Luego podemos usar solamente esas variables para hacer cálculos. Para asignar ponemos una flecha: &quot;&lt;-&quot; a &lt;- 2 b &lt;- 3 mean(c(a,b)) ## [1] 2.5 También podemos crear variables que contengan texto. Por ejemplo, podemos crear una lista con los integrantes de Metallica. metallica &lt;- c(&quot;Lars&quot;, &quot;James&quot;, &quot;Jason&quot;, &quot;Kirk&quot;) metallica ## [1] &quot;Lars&quot; &quot;James&quot; &quot;Jason&quot; &quot;Kirk&quot; Este es un vector de carácteres. Además, puedes usar las funciones str() y class() para averiguar la naturaleza de estas variables. class(metallica) ## [1] &quot;character&quot; str(metallica) ## chr [1:4] &quot;Lars&quot; &quot;James&quot; &quot;Jason&quot; &quot;Kirk&quot; Para inspeccionar cada elemento de esta variable puedes usar el paréntesis cuadrado. Esto se llama indexar. Por ejemplo, para ver el primer elemento puedes hacer lo siguiente: metallica[1] ## [1] &quot;Lars&quot; O podrías ver desde el primero al segundo. metallica[1:2] ## [1] &quot;Lars&quot; &quot;James&quot; O podrías ver desde el segundo al tercero. metallica[2:3] ## [1] &quot;James&quot; &quot;Jason&quot; Si te das cuenta que tu lista tiene un elemento incorrecto lo puedes eliminar. Para ello debes crear una nueva variable a partir de metallica pero dentro del paréntesis cuadrado usamos una fórmula lógica. La fórmula nos permite seleccionar ciertos elementos. Por ejemplo, si queremos todos los elementos de la variable metallica excepto el elemento Jason (de ahí viene la parte !=) podemos hacer lo siguente: new_metallica &lt;- metallica[metallica != &quot;Jason&quot;] new_metallica ## [1] &quot;Lars&quot; &quot;James&quot; &quot;Kirk&quot; También puedes eliminar dos elementos indicandole a R que quieres eliminar los elementos del 2 al 3: metallica_duo &lt;- metallica[-c(2,3)] metallica_duo ## [1] &quot;Lars&quot; &quot;Kirk&quot; Lo que podríamos hacer enseguida es agregar un nuevo elemento. Para hacer esto concatenamos, usado la c, un variable con otra variable. Por ejemplo, para concatenar new_metallica con &quot;Rob&quot; hacemos lo siguiente: last_metallica &lt;- c(new_metallica, &quot;Rob&quot;) last_metallica ## [1] &quot;Lars&quot; &quot;James&quot; &quot;Kirk&quot; &quot;Rob&quot; Incluso podríamos elegir dónde agregar a Rob. Por ejemplo, lo podemos agregar al final. last_metallica_2 &lt;- c(&quot;Rob&quot;, new_metallica) last_metallica_2 ## [1] &quot;Rob&quot; &quot;Lars&quot; &quot;James&quot; &quot;Kirk&quot; O lo podemos agregar en la penúltima posición: last_metallica_3 &lt;- c(new_metallica[1:2], &quot;Rob&quot;, new_metallica[3]) last_metallica_3 ## [1] &quot;Lars&quot; &quot;James&quot; &quot;Rob&quot; &quot;Kirk&quot; Ejercicio: Crea una variable que represente a tu banda favorita. 3.5 Trabajando con data frames Podemos crear variables de distintos tipos (lista de palabras o listas de números): metallicaNames &lt;- c(&quot;Lars&quot;, &quot;James&quot;, &quot;Kirk&quot;, &quot;Rob&quot;) metallicaNames ## [1] &quot;Lars&quot; &quot;James&quot; &quot;Kirk&quot; &quot;Rob&quot; metallicaAges &lt;- c(47, 47, 48, 46) metallicaAges ## [1] 47 47 48 46 metallicaColor &lt;- c(&quot;Blue&quot;, &quot;Red&quot;, &quot;Yellow&quot;, &quot;Green&quot;) metallicaColor ## [1] &quot;Blue&quot; &quot;Red&quot; &quot;Yellow&quot; &quot;Green&quot; Pero más importante que eso es que podemos reunir estas variables en una estructura mas compleja. Esta estructura se llama data frame. Un data frame puede acomodar distintos tipos de datos y los pone en distintas &quot;cajas&quot;. Para crear un data frame usamos la función data.frame metallicaDataFrame &lt;- data.frame(metallicaNames, metallicaAges, metallicaColor) metallicaDataFrame ## metallicaNames metallicaAges metallicaColor ## 1 Lars 47 Blue ## 2 James 47 Red ## 3 Kirk 48 Yellow ## 4 Rob 46 Green Fijate que al crear el data frame el nombre de la variable se vuelve el encabezado de esos datos en el dataframe. Si queremos podemos cambiarle el nombre a estos encabezados. Podemos hacer esto usando la función colnames. colnames(metallicaDataFrame) &lt;- c(&quot;name&quot;, &quot;age&quot;, &quot;color&quot;) metallicaDataFrame ## name age color ## 1 Lars 47 Blue ## 2 James 47 Red ## 3 Kirk 48 Yellow ## 4 Rob 46 Green O mejor aún puedes definirlo al momento de crear la data frame: metallicaDataFrame &lt;- data.frame(Name = metallicaNames, Age = metallicaAges, Color = metallicaColor) metallicaDataFrame ## Name Age Color ## 1 Lars 47 Blue ## 2 James 47 Red ## 3 Kirk 48 Yellow ## 4 Rob 46 Green Mira también la estructura de este data frame. Verás que hay 4 observacions y 3 variables. Dos de estas listas son carácteres. str(metallicaDataFrame) ## &#39;data.frame&#39;: 4 obs. of 3 variables: ## $ Name : chr &quot;Lars&quot; &quot;James&quot; &quot;Kirk&quot; &quot;Rob&quot; ## $ Age : num 47 47 48 46 ## $ Color: chr &quot;Blue&quot; &quot;Red&quot; &quot;Yellow&quot; &quot;Green&quot; Para mirar cada una de las lista puedes usar el símbolo $ metallicaDataFrame$Name ## [1] &quot;Lars&quot; &quot;James&quot; &quot;Kirk&quot; &quot;Rob&quot; metallicaDataFrame$Age ## [1] 47 47 48 46 metallicaDataFrame$Color ## [1] &quot;Blue&quot; &quot;Red&quot; &quot;Yellow&quot; &quot;Green&quot; Además, podemos eliminar una de estas listas si no nos interesa. metallicaDataFrame$Color &lt;- NULL metallicaDataFrame ## Name Age ## 1 Lars 47 ## 2 James 47 ## 3 Kirk 48 ## 4 Rob 46 Mas importante aún es el hecho que podemos hacer cálculos matemáticos de forma masiva. Primero, agreguemos una columna nueva: metallicaDataFrame$ChildAge &lt;- c(12, 12, 4, 6) metallicaDataFrame ## Name Age ChildAge ## 1 Lars 47 12 ## 2 James 47 12 ## 3 Kirk 48 4 ## 4 Rob 46 6 Luego, podemos calcular la diferencia entre estas dos columnas y la asignamos a una nueva columna: metallicaDataFrame$FatherhoodAge &lt;- metallicaDataFrame$Age - metallicaDataFrame$ChildAge metallicaDataFrame ## Name Age ChildAge FatherhoodAge ## 1 Lars 47 12 35 ## 2 James 47 12 35 ## 3 Kirk 48 4 44 ## 4 Rob 46 6 40 Podemos agregar mas datos a partir de otra variable. Y para crear variables podemos concatenar pedazos de datos. Por ejemplo, podríamos querer crear un set de datos de 15 valores que representen 3 condiciones experimentales. Cada condición experimental podría estar repetida 5 veces. Si queremos repetir la condición 1 tres veces hacemos: rep(1,5) ## [1] 1 1 1 1 1 El primer parámetro dentro de la función rep es el número que quieres repetir. El segundo parámetro define las veces que se va a definir ese número. Luego, podemos concatenar repeticiones de distintos números. vector1 &lt;- c(rep(1,5), rep(2,5), rep(3,5)) vector1 ## [1] 1 1 1 1 1 2 2 2 2 2 3 3 3 3 3 Y eso lo podemos agregar luego en una data frame. Veamos un ejemplo mas elaborado. Vamos a crear un base de datos sobre el nombre, la fecha de nacimiento y el trabajo de distintas personas. Para que R identifique los números como fechas usamos la función as.Date(por defecto el formato es yyyy-mm-dd). name &lt;- c(&quot;Ben&quot;, &quot;Martin&quot;,&quot;Andy&quot;,&quot;Paul&quot;, &quot;Graham&quot;,&quot;Carina&quot;,&quot;Karina&quot;,&quot;Doug&quot;,&quot;Mark&quot;, &quot;Zoe&quot;) name ## [1] &quot;Ben&quot; &quot;Martin&quot; &quot;Andy&quot; &quot;Paul&quot; &quot;Graham&quot; &quot;Carina&quot; &quot;Karina&quot; &quot;Doug&quot; &quot;Mark&quot; &quot;Zoe&quot; birth_date &lt;- as.Date(c(&quot;1977-07-03&quot;, &quot;1969-05-24&quot;, &quot;1973-06-21&quot;, &quot;1970-07-16&quot;, &quot;1949-10-10&quot;, &quot;1983-11-05&quot;, &quot;1987-10-08&quot;, &quot;1989-09-16&quot;, &quot;1973-05-20&quot;, &quot;1984-11-12&quot;)) birth_date ## [1] &quot;1977-07-03&quot; &quot;1969-05-24&quot; &quot;1973-06-21&quot; &quot;1970-07-16&quot; &quot;1949-10-10&quot; &quot;1983-11-05&quot; &quot;1987-10-08&quot; &quot;1989-09-16&quot; ## [9] &quot;1973-05-20&quot; &quot;1984-11-12&quot; job &lt;- c(rep(1, 5), rep(2, 5)) # que es el equivalente a: job &lt;- c(1,1,1,1,1,2,2,2,2,2) job ## [1] 1 1 1 1 1 2 2 2 2 2 La variable job es categórica. El número 1 indica que es un profesor y el 2 indica que es un estudiante. Para R son sólo números. Para decirle a R que es una variable categórica (o en el lenguaje de R un factor) tenemos que indicarselo usando la función factor. Además, podemos crear etiquetas o nombres que nos hagan mas sentido a nosotros. En este caso este factor tiene dos niveles: Lecturer y Student. job &lt;- factor(job, levels = c(1:2), labels = c(&quot;Lecturer&quot;, &quot;Student&quot;)) job ## [1] Lecturer Lecturer Lecturer Lecturer Lecturer Student Student Student Student Student ## Levels: Lecturer Student Luego, el paso final es poner todo junto: dataframe1 &lt;- data.frame(name, birth_date, job) dataframe1 ## name birth_date job ## 1 Ben 1977-07-03 Lecturer ## 2 Martin 1969-05-24 Lecturer ## 3 Andy 1973-06-21 Lecturer ## 4 Paul 1970-07-16 Lecturer ## 5 Graham 1949-10-10 Lecturer ## 6 Carina 1983-11-05 Student ## 7 Karina 1987-10-08 Student ## 8 Doug 1989-09-16 Student ## 9 Mark 1973-05-20 Student ## 10 Zoe 1984-11-12 Student Ejercicio: Crea una data frame con los integrantes de tu grupo familiar o de tu curso. En tu data frame agrega el nombre, apellido y la edad. 3.6 Importando datos La mayoría del tiempo vas a importar más que crear datos. Para ello cuando trabajes en R debes decirle en que carpeta de tu computador están esos archivos. Es decir, debes definir tu directorio de trabajo con la función setwd Por ejemplo, para mí sería algo así: setwd(&quot;C:/Users/Usuario/Documents/JoseLuis/UTalca_2018/Stats_UTalca/database_2020_DocPsychol&quot;) La función getwd() (sin nada entre paréntesis) te permite sabes cual es tu directorio actual. getwd() ## [1] &quot;C:/Users/Usuario/Documents/JoseLuis/UTalca_2018/Estadistica_Bookdown/estadistica&quot; Para importar datos puedes usar distintas funciones. Por ejemplo, para importar datos de tipo .txt debemos usar la función read.delim setwd(&quot;C:/Users/Usuario/Documents/JoseLuis/UTalca_2018/Estadistica_Bookdown/estadistica&quot;) dat &lt;- read.delim(file = &quot;data/facebook_friends_1.txt&quot;) dat ## X108 ## 1 103 ## 2 252 ## 3 121 ## 4 93 ## 5 57 ## 6 40 ## 7 53 ## 8 22 ## 9 116 ## 10 98 Si ejecutas este comando en tu computador y lo comparas con los datos originales te darás cuenta que hay un error. Cuando importate tus datos a R perdiste el 108. Esto occurre porque por defecto esta función asume que tus datos tienen un encabezado (el &quot;header&quot;). Es decir, el parámetro llamado &quot;header&quot; esta fijado en &quot;TRUE&quot;&quot;, que significa que la función espera un encabezado. Para corregir esto debes explícitamente decirle a R que no hay header, así: setwd(&quot;C:/Users/Usuario/Documents/JoseLuis/UTalca_2018/Estadistica_Bookdown/estadistica&quot;) dat &lt;- read.delim(file = &quot;data/facebook_friends_1.txt&quot;, header = FALSE) dat ## V1 ## 1 108 ## 2 103 ## 3 252 ## 4 121 ## 5 93 ## 6 57 ## 7 40 ## 8 53 ## 9 22 ## 10 116 ## 11 98 Fijate ahora que R le asigna un nombre a tu columna (V1). Es buena práctica ponerme un nombre a tu columna que haga sentido. Por ejemplo, podemos llamarla &quot;friends&quot;: colnames(dat) &lt;- c(&quot;friends&quot;) dat ## friends ## 1 108 ## 2 103 ## 3 252 ## 4 121 ## 5 93 ## 6 57 ## 7 40 ## 8 53 ## 9 22 ## 10 116 ## 11 98 Cuando tus datos ya tienen un encabezado te ahorras estos problemas. Fjate que para importar este otro archivo no necesitas definir que el header a FALSE. setwd(&quot;C:/Users/Usuario/Documents/JoseLuis/UTalca_2018/Estadistica_Bookdown/estadistica&quot;) dat &lt;- read.delim(file = &quot;data/facebook_friends_2.txt&quot;) dat ## AMIGOS ## 1 108 ## 2 103 ## 3 252 ## 4 121 ## 5 93 ## 6 57 ## 7 40 ## 8 53 ## 9 22 ## 10 116 ## 11 98 Típicamente vas a importar que has registrado en archivos de tipo Excel (.xls o .xlsx). El archivo Excel se puede transformar en un archivo de tipo csv. Este arhivo csv se importa de la siguiente manera: setwd(&quot;C:/Users/Usuario/Documents/JoseLuis/UTalca_2018/Estadistica_Bookdown/estadistica&quot;) dat2 &lt;- read.csv(&quot;data/facebook_friends_1.csv&quot;, header = FALSE) dat2 ## V1 ## 1 108 ## 2 103 ## 3 252 ## 4 121 ## 5 93 ## 6 57 ## 7 40 ## 8 53 ## 9 22 ## 10 116 ## 11 98 Para importar archivos siempre asegurate que has seteado bien tu directorio de trabajo y que los archivos están ahí. Ejercicio: Trata de importar algún archivo csv a tu sesión de R. 3.7 Seleccionando datos Una vez que tienes datos en tu espacio de trabajo en R la idea es que puedas manipular esos datos. Uno de los aspectos fundamentales de esta manipulación es la selección de datos. Primero, importemos alguna base de datos. setwd(&quot;C:/Users/Usuario/Documents/JoseLuis/UTalca_2018/Estadistica_Bookdown/estadistica&quot;) lecturerDat &lt;- read.csv(&quot;data/lecturer_data.csv&quot;) lecturerDat ## name birth_date job friends alcohol income neurotic ## 1 Ben 07/03/1977 1 5 10 20000 10 ## 2 Martin 5/24/1969 1 2 15 40000 17 ## 3 Andy 6/21/1973 1 0 20 35000 14 ## 4 Paul 7/16/1970 1 4 5 22000 13 ## 5 Graham 10/10/1949 1 1 30 50000 21 ## 6 Carina 11/05/1983 2 10 25 5000 7 ## 7 Karina 10/08/1987 2 12 20 100 13 ## 8 Doug 1/23/1989 2 15 16 3000 9 ## 9 Mark 5/20/1973 2 12 17 10000 14 ## 10 Zoe 11/12/1984 2 17 18 10 13 Antes de proceder vamos a transformar la variable &quot;job&quot; a factor, y vamos a crear rótulos que nos hagan mas sentido. Esto lo podemos hacer porque sabemos que el rótulo 1 corresponde a &quot;Lecturer&quot; y el rótulo 2 corresponde a &quot;Student&quot;. lecturerDat$job &lt;- factor(lecturerDat$job, levels = c(1:2), labels = c(&quot;Lecturer&quot;, &quot;Student&quot;)) lecturerDat ## name birth_date job friends alcohol income neurotic ## 1 Ben 07/03/1977 Lecturer 5 10 20000 10 ## 2 Martin 5/24/1969 Lecturer 2 15 40000 17 ## 3 Andy 6/21/1973 Lecturer 0 20 35000 14 ## 4 Paul 7/16/1970 Lecturer 4 5 22000 13 ## 5 Graham 10/10/1949 Lecturer 1 30 50000 21 ## 6 Carina 11/05/1983 Student 10 25 5000 7 ## 7 Karina 10/08/1987 Student 12 20 100 13 ## 8 Doug 1/23/1989 Student 15 16 3000 9 ## 9 Mark 5/20/1973 Student 12 17 10000 14 ## 10 Zoe 11/12/1984 Student 17 18 10 13 Ahora, imagina que quieres seleccionar datos de aquellos participantes que eran sólo &quot;Lecturer&quot;. Podemos seleccionar esos datos y asignarlos a una nueva variable, así: onlyLecturer &lt;- lecturerDat[lecturerDat$job == &quot;Lecturer&quot;,] onlyLecturer ## name birth_date job friends alcohol income neurotic ## 1 Ben 07/03/1977 Lecturer 5 10 20000 10 ## 2 Martin 5/24/1969 Lecturer 2 15 40000 17 ## 3 Andy 6/21/1973 Lecturer 0 20 35000 14 ## 4 Paul 7/16/1970 Lecturer 4 5 22000 13 ## 5 Graham 10/10/1949 Lecturer 1 30 50000 21 Ahora, imagina que quieres seleccionar datos de aquellos participantes cuyo nivel de alcohol es menor o igual a 15: lightAlcoholics &lt;- lecturerDat[lecturerDat$alcohol &lt;= 15,] lightAlcoholics ## name birth_date job friends alcohol income neurotic ## 1 Ben 07/03/1977 Lecturer 5 10 20000 10 ## 2 Martin 5/24/1969 Lecturer 2 15 40000 17 ## 4 Paul 7/16/1970 Lecturer 4 5 22000 13 Lo que acabas de hacer es seleccionar sólo algunas filas. Algo que también puedes realizar es seleccionar sólo algunas columnas. Por ejemplo, podrías seleccionar sólo aquellos datos relacionados con las columnas &quot;friends&quot;, &quot;alcohol&quot; y &quot;neurotic&quot;. Para ello puedes hacer: lecturerPersonality &lt;- lecturerDat[, c(&quot;friends&quot;, &quot;alcohol&quot;, &quot;neurotic&quot;)] lecturerPersonality ## friends alcohol neurotic ## 1 5 10 10 ## 2 2 15 17 ## 3 0 20 14 ## 4 4 5 13 ## 5 1 30 21 ## 6 10 25 7 ## 7 12 20 13 ## 8 15 16 9 ## 9 12 17 14 ## 10 17 18 13 Incluso puedes combinar la selección de filas y de columnas. Por ejemplo podrías seleccionar las columnas &quot;friends&quot;, &quot;alcohol&quot; y &quot;neurotic&quot; de aquello participantes cuyo nivel de alcohol es menor o igual a 15: lightAlcoholicsPerso &lt;- lecturerDat[lecturerDat$alcohol &lt;= 15, c(&quot;friends&quot;, &quot;alcohol&quot;, &quot;neurotic&quot;)] lightAlcoholicsPerso ## friends alcohol neurotic ## 1 5 10 10 ## 2 2 15 17 ## 4 4 5 13 3.8 Transformado datos en formato long a wide y viceversa Otro aspecto muy importante que debes entender es como transformar de un formato a otro en R. En R hay dos formatos típicos. Cuando hay múltiples mediciones de un mismo sujeto, por ejemplo, a lo largo del tiempo o cuando se realizan distintas mediciones los datos a menudo se anotan en formato wide. En un formato wide la data frame contiene valores que no se repiten en la primera columna. En un formato long la data frame contiene valores que se repiten en la primera columna. Por ejemplo, importemos un set de datos que está en formato wide: setwd(&quot;C:/Users/Usuario/Documents/JoseLuis/UTalca_2018/Estadistica_Bookdown/estadistica&quot;) satisfactionData &lt;- read.csv(&quot;data/Honeymoon_Period.csv&quot;) head(satisfactionData) ## Person Satisfaction_Base Satisfaction_6_Months Satisfaction_12_Months Satisfaction_18_Months Gender ## 1 1 6 6 5 2 0 ## 2 2 7 7 8 4 1 ## 3 3 4 6 2 2 1 ## 4 4 6 9 4 1 0 ## 5 5 6 7 6 6 0 ## 6 6 5 10 4 2 1 Con head miramos sólo los primeras 6 filas de la base de datos. En esta data frame están los niveles de satisfacción con la pareja al momento de casarse, y luego de 6, 12 y 18 meses. Además está el género del entrevistado. Esta data frame la podemos a transformar a un formato long usando la función stack. Esta función la usamos de la siguiente manera: newDataFrame &lt;- stack(oldDataFrame, select = c(variable_list)) En nuestro ejemplo podemos hacerlo así: satisfactionStacked &lt;- stack(satisfactionData, select = c(&quot;Satisfaction_Base&quot;, &quot;Satisfaction_6_Months&quot;, &quot;Satisfaction_12_Months&quot;, &quot;Satisfaction_18_Months&quot;)) colnames(satisfactionStacked) &lt;- c(&quot;Values&quot;, &quot;SatisfType&quot;) # cambiamos los encabezados head(satisfactionStacked) ## Values SatisfType ## 1 6 Satisfaction_Base ## 2 7 Satisfaction_Base ## 3 4 Satisfaction_Base ## 4 6 Satisfaction_Base ## 5 6 Satisfaction_Base ## 6 5 Satisfaction_Base En esta data frame se puede ver que los valores de satisfacción se ubican en una columna y la condición se ubica en otra columna. El problema con esta transformación es que perdemos la información de género y el número de la persona. Más adelante veremos una manera de hacer esta transformación sin perder esta información. Esta data frame la podemos reconvertir en formato wide con la función unstack. Esta función la usamos de la siguiente manera: newDataFrame &lt;- unstack(oldDataFrame, scores ~ columns) O simplemente: newDataFrame &lt;- unstack(oldDataFrame) En nuestro ejemplo podemos hacerlo así: satisfactionUnstacked &lt;- unstack(satisfactionStacked) head(satisfactionUnstacked) ## Satisfaction_Base Satisfaction_6_Months Satisfaction_12_Months Satisfaction_18_Months ## 1 6 6 5 2 ## 2 7 7 8 4 ## 3 4 6 2 2 ## 4 6 9 4 1 ## 5 6 7 6 6 ## 6 5 10 4 2 satisfactionUnstacked2 &lt;- unstack(satisfactionStacked, Values ~ SatisfType) head(satisfactionUnstacked2) ## Satisfaction_Base Satisfaction_6_Months Satisfaction_12_Months Satisfaction_18_Months ## 1 6 6 5 2 ## 2 7 7 8 4 ## 3 4 6 2 2 ## 4 6 9 4 1 ## 5 6 7 6 6 ## 6 5 10 4 2 Otra manera de transformar datos a formato long es usando la función melt. Para ello necesitamos cargar la librería reshape. Esta función la usamos de la siguiente manera: newDataFrame &lt;- melt(oldDataFrame, id = c(constant_variables), measured = c(variables_that_change_across_columns)) En nuestro ejemplo podemos hacerlo así: library(reshape) restructuredData &lt;- melt(satisfactionData, id = c(&quot;Person&quot;, &quot;Gender&quot;), measured = c(&quot;Satisfaction_Base&quot;, &quot;Satisfaction_6_Months&quot;, &quot;Satisfaction_12_Months&quot;, &quot;Satisfaction_18_Months&quot;)) colnames(restructuredData)[3:4] &lt;- c(&quot;SatisfType&quot;, &quot;Values&quot;) # cambiamos los encabezados head(restructuredData) ## Person Gender SatisfType Values ## 1 1 0 Satisfaction_Base 6 ## 2 2 1 Satisfaction_Base 7 ## 3 3 1 Satisfaction_Base 4 ## 4 4 0 Satisfaction_Base 6 ## 5 5 0 Satisfaction_Base 6 ## 6 6 1 Satisfaction_Base 5 Bonus.También podemos aprovechar de reordenar los datos. Para ello usamos la función order. reorder2 &lt;- restructuredData[order(restructuredData$Person),] head(reorder2) ## Person Gender SatisfType Values ## 1 1 0 Satisfaction_Base 6 ## 116 1 0 Satisfaction_6_Months 6 ## 231 1 0 Satisfaction_12_Months 5 ## 346 1 0 Satisfaction_18_Months 2 ## 2 2 1 Satisfaction_Base 7 ## 117 2 1 Satisfaction_6_Months 7 En esta data frame se puede ver que los valores de satisfacción se ubican en una columna y la condición se ubica en otra columna. La ventaja de melt es que conserva la información de género y el número de la persona. Por último, esta data frame la podemos reconvertir en formato wide con la función cast. Esta función la usamos de la siguiente manera: newData &lt;- cast(longData, variables_coded_within_a_single_column ~ variables_coded_across_many_columns, value = &quot;outcome_variable&quot;) En nuestro ejemplo podemos hacerlo así: wideData &lt;- cast(restructuredData, Person + Gender ~ SatisfType, value = &quot;Values&quot;) head(wideData) ## Person Gender Satisfaction_Base Satisfaction_6_Months Satisfaction_12_Months Satisfaction_18_Months ## 1 1 0 6 6 5 2 ## 2 2 1 7 7 8 4 ## 3 3 1 4 6 2 2 ## 4 4 0 6 9 4 1 ## 5 5 0 6 7 6 6 ## 6 6 1 5 10 4 2 3.9 Exportando datos Finalmente podrías querer exportar estos datos seleccionados. Para ello puede crear archivos de tipo txt o csv aplicado algunas funciones. Los archivos se crearán en tu actual directorio (para saber cual es puedes hacer getwd()) write.table(lightAlcoholics, &quot;datoExportado.txt&quot;, sep=&quot;\\t&quot;) write.csv(lightAlcoholics, &quot;datoExportado.csv&quot;) "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
